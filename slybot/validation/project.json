[{
    "$id": "item",
    "type": "object",
    "properties": {
        "id": {"type": "string"},
        "properties": {"type": "array", "items": "field_properties"}
    }
},
{
    "$id": "field_properties",
    "type": "object",
    "properties": {
        "name": {"type": "string"},
        "description": {"type": "string"},
        "required": {"type": "boolean"},
        "type": {"type": "fieldtype"},
        "vary": {"type": "boolean"}
    }
},
{
    "$id": "spider",
    "type": "object",
    "properties": {
        "name": {"type": "string"},
        "start_urls": {"type": "array", "items": "string", "format": "url"},
        "links_to_follow": {"type": "string", "items": ["pattern", "none"]},
        "follow_patterns": {"type": "array", "items": "string", "format": "regex"},
        "exclude_patterns": {"type": "array", "items": "string", "format": "regex"},
        "respect_nofollow": {"type": "boolean"},
        "templates": {"type": "array", "items": "template"}
    }
},
{
    "$id": "template",
    "type": "object",
    "properties": {
        "page_id": {"type": "string"},
        "page_type": {"type": ["item", "links"]},
        "scrapes": {"type": "string"},
        "extractors": {"type": "array", "items": "string"},
        "url": {"type": "string", "format": "url"},
        "original_body": {"type": "string", "format": "html_markup"},
        "annotated_body": {"type": "string", "format": "html_markup"}
    }
},
{
    "$id": "extractor",
    "type": "object",
    "properties": {
        "field_name": {"type": "string"},
        "type_extractor": {"type": "fieldtype"},
        "regular_expression": {"type": "string", "format": "regex"}
    }
}
]
